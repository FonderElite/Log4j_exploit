import shutil,os,files.colors
from colorama import Fore
def copy_dir():
    hostname = os.getlogin()
    src = os.getcwd()
    cmd = lambda x : os.system(x)
    try:
        if os.path.isdir("/home/{hostname}/.config/Log4j_exploit") == True:
            print(f"{files.colors.BWhite}[{Fore.GREEN}+{Fore.WHITE}]Log4j directory is already present in ~/.config")
            cmd("ls ~/.config | grep 'log4j'")
        elif os.path.isdir("/home{hostname}/.config/Log4j_exploit") == False:
            destination = shutil.copytree(src,f"/home/{hostname}/.config/Log4j_exploit")
            if os.path.isdir("/home/{hostname}/.config/Log4j_exploit") == True:
                print(f"{files.colors.BWhite}[{Fore.GREEN}+{Fore.WHITE}]Successfully copied log4j directory to ~/.config")
                cmd("ls ~/.config | grep 'log4j'")
        else:
            print(f"{files.colors.BWhite}{Fore.WHITE}[{Fore.RED}-{Fore.WHITE}]Copying log4j directory failed.")
    except Exception as Err:
            print(f"{files.colors.BWhite}[{Fore.GREEN}+{Fore.WHITE}]Log4j directory is already present in ~/.config")

copy_dir()
